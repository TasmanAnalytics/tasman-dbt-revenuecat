version: 2
models:
  - name: prs_daily_active_subscribers
    description: 'One row per day, per country, per platform to show the numbers of active subscribers on that day.'
    columns:
      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_day
        description: 'The day that the point in time reporting takes place on.'

      - name: paid_subscription_count
        description: 'The number of paid subscriptions in a day, week or month.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: trial_subscription_count
        description: 'The number of trial subscriptions in a day, week or month.'

  - name: prs_daily_active_subscriptions
    description: 'One row per day, per country, per platform to show the numbers of active subscriptions on that day.'
    columns:
      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_day
        description: 'The day that the point in time reporting takes place on.'

      - name: paid_subscription_count
        description: 'The number of paid subscriptions in a day, week or month.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: trial_subscription_count
        description: 'The number of trial subscriptions in a day, week or month.'

  - name: prs_daily_revenue
    description: 'One row per day, per country, per platform to show the sum of revenue on that day.'
    columns:
      - name: commission_in_usd
        description: 'The price in US dollar multiplied by the percentage of commission set by the store.'

      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: estimated_tax_in_usd
        description: 'The price in US dollars multiplied by the percentage of tax.'

      - name: estimated_tax_in_usd
        description: 'The price in US dollars multiplied by the percentage of tax.'

      - name: new_revenue_in_usd
        description: 'The sum of new revenue (first paid subscription) in US dollars.'

      - name: new_revenue_in_usd
        description: 'The sum of new revenue (first paid subscription) in US dollars.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: proceeds_in_usd
        description: 'The revenue caluculated from the price of the subscription, taking tax and store comission into account.'

      - name: proceeds_in_usd
        description: 'The revenue caluculated from the price of the subscription, taking tax and store comission into account.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: renewal_revenue_in_usd
        description: 'The sum of renewal revenue in US dollars.'

      - name: renewal_revenue_in_usd
        description: 'The sum of renewal revenue in US dollars.'

      - name: total_revenue_in_usd
        description: 'The sum of total revenue (ignore tax and commisions) in US dollars.'

      - name: total_revenue_in_usd
        description: 'The sum of total revenue (ignore tax and commisions) in US dollars.'

      - name: transaction_date
        description: 'The date that the transaction took place.'

  - name: prs_daily_subscription_states
    description: 'One row per day, per country, per platform to show the number of subscriptions that entered a certain state on that day.'
    columns:

      - name: count_of_cancelled
        description: 'The number of subscriptions that were cancelled.'

      - name: count_of_converted
        description: 'The number of subscriptions that converted from a trial to paid.'

      - name: count_of_crossgrade
        description: 'The number of subscriptions that upgraded from a monthly subscription to a yearly.'

      - name: count_of_downgrade
        description: 'The number of subscriptions that downgraded from a yearly subscription to a monthly.'

      - name: count_of_expired
        description: 'The number of subscriptions that expired.'

      - name: count_of_new_paid
        description: 'The number of new paid subscriptions.'

      - name: count_of_new_trial
        description: 'The number of trial subscriptions.'

      - name: count_of_reactivated
        description: 'The number of subscriptions that were reactivated after expiring.'

      - name: count_of_renewed
        description: 'The number of subscriptions that renewed with no gap.'

      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_day
        description: 'The day that the point in time reporting takes place on.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: region
        description: 'The region of the world where the transaction took place.'

  - name: prs_latest_customer_subscriptions
    description: 'One row per customer to show the current status of their subscription.'
    columns:
      - name: activity
        description: 'An activity that occurs on a subscription. e.g. subscription ends, billing issue detected.'

      - name: commission_percentage
        description: 'The portion of a transactions price that will be detected by the store for commission.'

      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: is_refunded
        description: 'A boolean flag to show whether the transaction has been refunded or not.'

      - name: is_trial_conversion
        description: 'A boolean flag to show whether the transaction is a conversion from a trial or not.'

      - name: is_trial_period
        description: 'A boolean flag to show whether the transaction is a trial or not.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: previous_activity
        description: 'Shows the activity of a subscription when a subscription is started. Can be used to fix billing issues and trial conversion issues.'

      - name: previous_product
        description: 'The product identifer of product that the user was previously subscribed to.'

      - name: previous_product_duration
        description: 'The duration of product that the user was previously subscribed to.'

      - name: previous_subscription_state
        description: 'The previous state of the subscription when a state change occurs. e.g active, churned, cancelled.'

      - name: price_in_purchased_currency
        description: 'The revenue in the purhcased currency. This will be set to 0 if the transaction is refunded.'

      - name: price_in_usd
        description: 'The revenue in USD. This will be set to 0 if the transaction is refunded.'

      - name: proceeds_in_purchased_currency
        description: 'The revenue caluculated from the price of the subscription, taking tax and store comission into account.'

      - name: proceeds_in_usd
        description: 'The revenue caluculated from the price of the subscription, taking tax and store comission into account.'

      - name: product_changed
        description: 'A boolean flag to show whether the user has moved onto a new product.'

      - name: product_duration
        description: 'The standard duration of the product. e.g. P1M(monthly), P1Y(yearly).'

      - name: product_duration_changed
        description: 'A boolean flag to show whether the user has moved onto a new product where the duration has changed.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: purchase_price_in_purchased_currency
        description: 'The amount that the subscription was purchased for. This does not get set to 0 if the transaction is refunded.'

      - name: purchase_price_in_usd
        description: 'The amount that the subscription was purchased for. This does not get set to 0 if the transaction is refunded.'

      - name: purchased_currency
        description: 'The currency that was used for the transaction.'

      - name: rc_original_app_user_id
        description: 'A unique user identifier to find all of a users transactions.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: renewal_number
        description: 'An incrementing number to show how many times the subscription has been renewed. This resets on reactivation.'

      - name: store_transaction_id
        description: 'The unique order ID for the transaction.'

      - name: subscription_state
        description: 'The state that the subscription is moving to during a state change. e.g active, churned, cancelled.'

      - name: subscription_status
        description: 'The status of the subscription depending on the previous and current state. e.g. renewed, reactivated.'

      - name: tax_percentage
        description: 'The portion of a transactions price that will be deducted by the store for taxes.'

      - name: valid_from
        description: 'The time that the record is valid from. Used for SCD.'

      - name: valid_period
        description: 'The number of hours that the subcription has been at the current state.'

  - name: prs_monthly_active_subscriptions
    description: 'One row per month, per country, per platform to show the numbers of active subscriptions on that last day of the month.'
    columns:
      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_month
        description: 'The month that the point in time reporting takes place in.'

      - name: paid_subscription_count
        description: 'The number of paid subscriptions in a day, week or month.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: trial_subscription_count
        description: 'The number of trial subscriptions in a day, week or month.'

  - name: prs_monthly_recurring_revenue
    description: 'One row per month, per country, per platform to show the monthly recurring revenue.'
    columns:
      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_month
        description: 'The month that the point in time reporting takes place in.'

      - name: mrr_in_usd
        description: 'The monthly recurring revenue.'


      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: region
        description: 'The region of the world where the transaction took place.'

  - name: prs_weekly_active_subscriptions
    description: 'One row per week, per country, per platform to show the number of active subscriptions at the end of the week.'
    columns:
      - name: country
        description: 'The country code of the country which the transaction took place in.'

      - name: date_week
        description: 'The week that the point in time reporting takes place in.'

      - name: paid_subscription_count
        description: 'The number of paid subscriptions in a day, week or month.'

      - name: platform
        description: 'The last seen platform of the subscriber. e.g. android, iOS.'

      - name: product_identifier
        description: 'The product identifier that was purchased.'

      - name: region
        description: 'The region of the world where the transaction took place.'

      - name: trial_subscription_count
        description: 'The number of trial subscriptions in a day, week or month.'
